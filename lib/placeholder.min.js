"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=require("./assets/utils.js"),_default=require("./assets/default.js");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Placeholder=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.type=t.type||_default.types[0],this.size=t.size||_default.size.default,this.variant=t.variant||_default.variants[0],this.element=t.elements||_default.elements[0],this.colors=t.colors||_default.defaultColors,this.amount=t.amount||_default.amount.default,this.density=t.density||_default.density.default,this.background=t.background||_default.defaultBg,this.check()}return _createClass(e,[{key:"check",value:function(){if(!_default.types.includes(this.type))throw new Error("No such type");if(!_default.variants.includes(this.variant))throw new Error("No such variant");if(!_default.elements.includes(this.element))throw new Error("No such element");if(this.amount<_default.amount.from||this.amount>_default.amount.to)throw new Error("Available amount from 1 to 10");if(this.density<_default.density.from||this.density>_default.density.to)throw new Error("Available density from 2 to 10");if(this.size<_default.size.from||this.size>_default.size.to)throw new Error("Available size from 100x100 to 1000x1000");return this}},{key:"createSvgTemplate",value:function(){return["<svg",'width="'.concat(this.size,'"'),'height="'.concat(this.size,'"'),'viewBox="0 0 '.concat(this.size," ").concat(this.size,'"'),'fill="none"','xmlns="http://www.w3.org/2000/svg"',">"].join(" ")}},{key:"createBlockTemplate",value:function(e,t,i,a){return"square"===this.element?this.createRecTemplate(e,t,i,a):this.createCircleTemplate(e,t,i,a)}},{key:"createRecTemplate",value:function(e,t,i,a){return["<rect",'x="'.concat(e,'"'),'y="'.concat(t,'"'),'width="'.concat(i,'"'),'height="'.concat(i,'"'),'rx="'.concat(this.blockRadius,'"'),'fill="'.concat(a,'"'),"/>"].join(" ")}},{key:"createCircleTemplate",value:function(e,t,i,a){return["<circle",'cx="'.concat(e,'"'),'cy="'.concat(t,'"'),'r="'.concat(i/2,'"'),'fill="'.concat(a,'"'),"/>"].join(" ")}},{key:"createBackground",value:function(){var e=_utils.utils.getRandom(0,this.colors.length),t=this.colors[e];return"square"===this.type?this.createBackgroundRec(t):this.createBackgroundCicle(t)}},{key:"createBackgroundRec",value:function(e){return this.createRecTemplate(0,0,this.size,e)}},{key:"createBackgroundCicle",value:function(e){var t=this.size/2;return this.createCircleTemplate(t,t,t,e)}},{key:"generate",value:function(){var e=this.variant,t=this.element,i=this.colors,a=this.amount,r=this.density,s=this.createSvgTemplate(),n=[];if("grid"===e){var l="circle"===t?this.createBackground():"";n.push(l);for(var o=0;o<r;o+=1)for(var c=0;c<r;c+=1){var u=this.size/r,h="circle"===t?u/2+o*u:o*u,f="circle"===t?u/2+c*u:c*u,d=i[_utils.utils.getRandom(0,i.length)],m=this.createBlockTemplate(h,f,u,d);n.push(m)}}if("random"===e){var v=this.createBackground();n.push(v);for(var p=0;p<a;p++){var _=_utils.utils.getRandom(0,this.size/1.25),g=_utils.utils.getRandom(0,this.size/1.25),y=_utils.utils.getRandom(0,this.size/2),k=_utils.utils.getRandom(0,this.colors.length),w=this.colors[k],z=this.createBlockTemplate(_,g,y,w);n.push(z)}}return[s,n,"</svg>"].flat(1).join("").trim()}}]),e}();exports.default=Placeholder;